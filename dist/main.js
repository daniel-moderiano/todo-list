(()=>{"use strict";function e(){let e=d(document.querySelector("#todo-form__title").value,document.querySelector("#todo-form__description").value,document.querySelector("#todo-form__date").value,document.querySelector("#todo-form__priority").value,document.querySelector("#todo-form__list").value);i(e,e.list),console.log(o)}function t(){const e=document.querySelector(".todo-form__btn");""===document.querySelector("#todo-form__title").value.trim()?e.disabled=!0:e.disabled=!1}let o={inbox:[],projects:[]},n="inbox";function d(e,t,o,n,d,c=((e=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let n=63&o[e];t+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return t})()){return{title:e,description:t,dueDate:o,priority:n,list:d,id:c}}let c=d("Laundry","White clothes only","12-12-2021","low","inbox");function i(e,t){o[t].push(e)}function l(e,t){let n=o[e].findIndex((e=>e.id===t));o[e].splice(n,1)}function r(){localStorage.setItem("lists",JSON.stringify(o))}function s(e){!function(){const e=document.querySelector(".todos__list");for(;e.lastElementChild;)e.removeChild(e.lastElementChild)}(),function(e){JSON.parse(localStorage.getItem("lists"))[e].forEach((function(e){!function(e){const t=document.querySelector(".todos__list"),o=document.createElement("li");o.classList.add("todo"),o.dataset.id=e.id;const n=document.createElement("div");n.classList.add("todo__container");const d=document.createElement("h5");d.classList.add("todo__title"),d.textContent=e.title;const c=document.createElement("p");c.classList.add("todo__descirption"),c.textContent=e.description;const i=document.createElement("p");i.classList.add("todo__date"),i.textContent=e.dueDate;const a=document.createElement("span");a.classList.add("todo__priority"),a.textContent=e.priority;const u=document.createElement("input");u.type="checkbox",u.name="task-complete",u.classList.add("todo__checkbox"),u.setAttribute("aria-label","task complete"),u.addEventListener("change",(()=>{l(e.list,e.id)})),u.addEventListener("change",r),u.addEventListener("change",(()=>{s(e.list)}));const m=document.createElement("button");m.type="button",m.classList.add("todo__delete"),m.innerHTML="&times;",m.addEventListener("click",(()=>{l(e.list,e.id)})),m.addEventListener("click",r),m.addEventListener("click",(()=>{s(e.list)})),o.appendChild(n),n.appendChild(u),n.appendChild(d),n.appendChild(c),n.appendChild(i),n.appendChild(a),n.appendChild(m),t.appendChild(o)}(e)}))}(e)}d("Shopping","Need eggs and olive oil","12-06-2021","high","inbox"),d("Call John","Need to organise a catch up","18-07-2021","medium","inbox"),i(c,"inbox"),r(),s(n),function(){const t=document.querySelector(".add-modal");document.querySelector(".add-modal__close").addEventListener("click",d);const o=document.querySelector(".header__btn");o.addEventListener("click",(function(){document.querySelector("#todo-form__title").value="",document.querySelector("#todo-form__description").value="",document.querySelector("#todo-form__date").value="",document.querySelector("#todo-form__priority").value="",n.disabled=!0})),o.addEventListener("click",(function(){t.style.display="block"}));const n=document.querySelector(".todo-form__btn");function d(){t.style.display="none"}window.addEventListener("click",(function(e){e.target==t&&(t.style.display="none")}));const c=document.querySelector("#todo-form__list").value;n.addEventListener("click",e),n.addEventListener("click",d),n.addEventListener("click",r),n.addEventListener("click",(()=>{s(c)}))}(),document.querySelectorAll(".list-name").forEach((function(e){e.addEventListener("click",(()=>{!function(e){n=e}(e.dataset.name),e.classList.toggle("list-name--selected"),console.log(n)}))})),function(e){const o=document.querySelector("#todo-form__title");document.querySelector(".todo-form__btn").disabled=!0,o.addEventListener("input",t),t()}()})();