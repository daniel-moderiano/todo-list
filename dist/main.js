(()=>{"use strict";let e={inbox:[],projects:[]},t="inbox";function n(){return t}function o(e){t=e}function d(t){delete e[t]}function c(e,t,n,o,d,c=((e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=63&n[e];t+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return t})()){return{title:e,description:t,dueDate:n,priority:o,list:d,id:c}}let i=c("Laundry","White clothes only","12-12-2021","low","inbox");function l(t,n){e[n].push(t)}function r(t,n){let o=e[t].findIndex((e=>e.id===n));e[t].splice(o,1)}function a(){localStorage.setItem("lists",JSON.stringify(e))}function s(){let e=c(document.querySelector("#todo-form__title").value,document.querySelector("#todo-form__description").value,document.querySelector("#todo-form__date").value,document.querySelector("#todo-form__priority").value,document.querySelector("#todo-form__list").value);l(e,e.list)}function u(e){e.style.display="block"}function m(e){e.style.display="none"}function _(e,t){e.target===t&&(t.style.display="none")}function p(e,t){""===e.value.trim()?t.disabled=!0:t.disabled=!1}function f(e){e.addEventListener("click",(t=>{"BUTTON"!=t.target.nodeName&&(o(e.dataset.name),v(e),L(n()))}))}function y(){return document.querySelector("#list-form__input").value}function L(){!function(){const e=document.querySelector(".todos__list");for(;e.lastElementChild;)e.removeChild(e.lastElementChild)}(),JSON.parse(localStorage.getItem("lists"))[n()].forEach((function(e){!function(e){const t=document.querySelector(".todos__list"),o=document.createElement("li");o.classList.add("todo"),o.dataset.id=e.id;const d=document.createElement("div");d.classList.add("todo__container");const c=document.createElement("h5");c.classList.add("todo__title"),c.textContent=e.title;const i=document.createElement("p");i.classList.add("todo__descirption"),i.textContent=e.description;const l=document.createElement("p");l.classList.add("todo__date"),l.textContent=e.dueDate;const s=document.createElement("span");s.classList.add("todo__priority"),s.textContent=e.priority;const u=document.createElement("input");u.type="checkbox",u.name="task-complete",u.classList.add("todo__checkbox"),u.setAttribute("aria-label","task complete"),u.addEventListener("change",(()=>{r(n(),e.id)})),u.addEventListener("change",a),u.addEventListener("change",(()=>{L()}));const m=document.createElement("button");m.type="button",m.classList.add("todo__delete"),m.innerHTML="&times;",m.addEventListener("click",(()=>{r(n(),e.id)})),m.addEventListener("click",a),m.addEventListener("click",(()=>{L()})),o.appendChild(d),d.appendChild(u),d.appendChild(c),d.appendChild(i),d.appendChild(l),d.appendChild(s),d.appendChild(m),t.appendChild(o)}(e)}))}function v(e){document.querySelectorAll(".list-name").forEach((function(t){t.dataset.name===e.dataset.name?t.classList.contains("list-name--selected")||t.classList.toggle("list-name--selected"):t.classList.remove("list-name--selected")}))}function S(e){e.parentNode.remove()}c("Shopping","Need eggs and olive oil","12-06-2021","high","inbox"),c("Call John","Need to organise a catch up","18-07-2021","medium","inbox"),l(i,"inbox"),a(),L(),function(){const e=document.querySelector(".add-modal");document.querySelector(".add-modal__close").addEventListener("click",(()=>{m(e)}));const t=document.querySelector(".header__btn");t.addEventListener("click",(function(){document.querySelector("#todo-form__title").value="",document.querySelector("#todo-form__description").value="",document.querySelector("#todo-form__date").value="",document.querySelector("#todo-form__priority").value="",n.disabled=!0})),t.addEventListener("click",(()=>{u(e)}));const n=document.querySelector(".todo-form__btn");window.addEventListener("click",(t=>{_(t,e)})),document.querySelector("#todo-form__list").value,n.addEventListener("click",s),n.addEventListener("click",(()=>{m(e)})),n.addEventListener("click",a),n.addEventListener("click",(()=>{L()}))}(),document.querySelectorAll(".list-name").forEach((function(e){f(e)})),document.querySelector("#pro-btn").addEventListener("click",(e=>{S(e.target),d("projects"),a(),o("inbox"),v(document.querySelector(".default-lists__inbox")),L()})),function(){let e=document.querySelector(".list-modal");document.querySelector(".add-list__btn").addEventListener("click",(()=>{u(e)})),document.querySelector(".list-modal__close").addEventListener("click",(()=>{m(e)})),window.addEventListener("click",(t=>{_(t,e)}))}(),function(e){const t=document.querySelector("#todo-form__title"),n=document.querySelector(".todo-form__btn");n.disabled=!0,t.addEventListener("input",(()=>{p(t,n)}))}(),function(){const t=document.querySelector(".list-modal__btn"),n=document.querySelector("#list-form__input");t.disabled=!0,n.addEventListener("input",(()=>{p(n,t)})),t.addEventListener("click",(()=>{var t;!0===function(t){for(const n in e)if(t===n)return!0;return!1}(y().toLowerCase())?alert("List already exists! Please enter a unique list name."):(t=y().toLowerCase(),e[t]=[],a(),function(e){const t=document.createElement("li"),n=document.createElement("h4"),c=document.createElement("button");n.textContent=e,n.classList.add("list-name"),c.innerHTML="&times;",c.dataset.name=e.toLowerCase(),t.dataset.name=e.toLowerCase(),n.dataset.name=e.toLowerCase(),c.addEventListener("click",(e=>{S(e.target),d(e.target.dataset.name),a(),o("inbox"),v(document.querySelector(".default-lists__inbox")),L()})),f(t),t.appendChild(n),t.appendChild(c),document.querySelector(".added-lists__list").appendChild(t)}(y()),m(document.querySelector(".list-modal")),document.querySelector("#list-form__input").value="",document.querySelector(".list-modal__btn").disabled=!0)}))}()})();